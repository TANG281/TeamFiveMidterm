<!DOCTYPE html>
<html lang="en">


<!-- Adds the Head Partial. -->
<%- include('./partials/_head'); %>


<!-- THE BODY -->
<body>

  <!-- Adds the Navigation Bar Partial. -->
  <%- include('./partials/_navbar'); %>

 <!-- MAIN CONTAINER -->
 <main>

  <!-- TO CHECK WHETHER ADMIN NEEDS TO EDIT OR ADD NEW ITEM -->

<% if( item ){ %>
  <form class="form-inline" action="/api/users/items/edit/<%=item.id%>" method="POST">

 <% } else {%>
 <form class="form-inline" action="/api/users/items/create_new" method="POST">
<% }%>

    <!-- POPULATE EACH FIELD VALUE BASED ON THE ITEM OBJECT'S PROPERTIES -->
  <div class="input-group mb-3">
    <span class="input-group-text" id="title">Title</title></span>
    <input type="text" class="form-control" name="title" aria-label="title" aria-describedby="title" value="<%= item ? item.title : '' %>" required>
  </div>

  <div class="input-group mb-3">
    <span class="input-group-text">Description</span>
    <textarea class="form-control" aria-label="description" name="description"><%= item ? item.description : '' %></textarea>
  </div>

  <div class="input-group mb-3">
    <span class="input-group-text" id="price">Price</span>
    <input type="text" class="form-control" name="price" aria-describedby="price" value="<%= item ? item.price : '' %>"  required>
  </div>

  <div class="input-group">
    <div class="input-group-text">
      <label for="availability">Availability</label>

      <select name="is_available">
        <option value= true >Yes</option>
        <option value= false >No</option>
      </select>
    </div>
  </div>

  <div class="mb-3">
    <div class="input-group">
      <span class="input-group-text" id="image_url">Item Image URL</span>
      <input type="text" class="form-control" name="images_url" id="image_url" aria-describedby="image_url" value="<%= item ? item.image_url : '' %>" required>
    </div>
  </div>

  <div class="input-group mb-3">
    <span class="input-group-text" id="category">Category</span>
    <input type="text" class="form-control" aria-label="Category"  name="category" aria-describedby="category" value="<%= item ? item.category : '' %>" required>
  </div>

  <div>
    <input class="btn btn-outline-primary" type="submit" value="<%= item ? 'Update' : 'Save' %>">
    <input class="btn btn-outline-secondary" type="reset" value="Reset">
  </div>
</form>
</main>


  <!-- Add the Footer from partials folder -->
  <%- include('./partials/_footer'); %>

</body>

</html>
